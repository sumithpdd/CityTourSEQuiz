# Environment Variables Setup

This file contains the environment variables you need to set up for the application.

## Create `.env.local` file

Create a `.env.local` file in the root directory with the following content:

```env
# Firebase Client Configuration (Web App)
# Get these values from Firebase Console > Project Settings > General > Your apps > Web app
NEXT_PUBLIC_FIREBASE_API_KEY=your_api_key_here
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=citytoursequiz.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=citytoursequiz
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=citytoursequiz.appspot.com
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_messaging_sender_id_here
NEXT_PUBLIC_FIREBASE_APP_ID=your_app_id_here

# Admin configuration
NEXT_PUBLIC_ADMIN_EMAILS=admin@example.com,second.admin@example.com

# Firebase Service Account (Server-side)
# These are from the service account JSON file
FIREBASE_PROJECT_ID=your_project_id
FIREBASE_PRIVATE_KEY_ID=your_private_key_id
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n<YOUR_PRIVATE_KEY_LINES_WITH_ESCAPED_NEWLINES>\n-----END PRIVATE KEY-----\n"
FIREBASE_CLIENT_EMAIL=your_service_account_email@your_project_id.iam.gserviceaccount.com
FIREBASE_CLIENT_ID=your_service_account_client_id

# Next.js Secrets
NEXTAUTH_SECRET=your_nextauth_secret_here
NEXTAUTH_URL=http://localhost:3000
```

## Getting Firebase Web App Configuration

To get the client-side Firebase configuration values:

1. Go to [Firebase Console](https://console.firebase.google.com/)
2. Select your project: `citytoursequiz`
3. Click the gear icon ⚙️ next to "Project Overview"
4. Select "Project settings"
5. Scroll down to "Your apps" section
6. If you don't have a web app, click "Add app" and select the web icon `</>`
7. Copy the configuration values:
   - `apiKey` → `NEXT_PUBLIC_FIREBASE_API_KEY`
   - `authDomain` → `NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN` (should be `citytoursequiz.firebaseapp.com`)
   - `projectId` → `NEXT_PUBLIC_FIREBASE_PROJECT_ID` (should be `citytoursequiz`)
   - `storageBucket` → `NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET` (should be `citytoursequiz.appspot.com`)
   - `messagingSenderId` → `NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID`
   - `appId` → `NEXT_PUBLIC_FIREBASE_APP_ID`

## Service Account Credentials

Download a Firebase service account key (JSON) from **Firebase Console → Project Settings → Service accounts → Generate new private key**.

Save the file locally (for example as `citytoursequiz-service.json`). This file is **git-ignored** and must never be committed. Use its values to populate the `FIREBASE_*` fields above or keep it at the path expected by `scripts/create-env.js`.

## Next.js Secrets

- `NEXTAUTH_SECRET`: Automatically generated by `npm run setup-env`. If you need to generate a new one:
  - **Windows PowerShell**: `npm run generate-secret`
  - **Windows CMD**: `npm run generate-secret`
  - **Linux/Mac**: `npm run generate-secret` or `openssl rand -base64 32`
- `NEXTAUTH_URL`: Set to your deployment URL (use `http://localhost:3000` for local development)
- `NEXT_PUBLIC_ADMIN_EMAILS`: Comma-separated list of emails allowed to access `/admin`

## Important Notes

- Never commit `.env.local` to version control (it's already in `.gitignore`)
- For production deployment (Vercel), add these same environment variables in the Vercel dashboard
- The `FIREBASE_PRIVATE_KEY` should be kept in quotes and include the `\n` characters as shown

